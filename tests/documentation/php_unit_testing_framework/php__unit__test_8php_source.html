<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PHP Unit Testing Framework: php_unit_test.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">PHP Unit Testing Framework&#160;<span id="projectnumber">1</span></div>
   <div id="projectbrief">A Unit testing framework for PHP.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>php_unit_test.php</h1>  </div>
</div>
<div class="contents">
<a href="php__unit__test_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00034"></a>00034 
<a name="l00157"></a>00157 
<a name="l00166"></a><a class="code" href="class_event_type.html">00166</a> <span class="keyword">class </span><a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>
<a name="l00167"></a>00167 {  
<a name="l00168"></a>00168   <span class="keyword">private</span> $value; <span class="comment">// Stores the event type</span>
<a name="l00169"></a>00169   
<a name="l00174"></a>00174   <span class="keyword">private</span> function __construct($value)
<a name="l00175"></a>00175   {
<a name="l00176"></a>00176     $this-&gt;value = $value;
<a name="l00177"></a>00177   }
<a name="l00178"></a>00178   
<a name="l00182"></a><a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">00182</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">PASS</a>()
<a name="l00183"></a>00183   {
<a name="l00184"></a>00184     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(1);
<a name="l00185"></a>00185   }
<a name="l00186"></a>00186 
<a name="l00190"></a><a class="code" href="class_event_type.html#a9d9601d94023c3eb18dfefd1425d57d2">00190</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#a9d9601d94023c3eb18dfefd1425d57d2">PASS_MSG</a>()
<a name="l00191"></a>00191   {
<a name="l00192"></a>00192     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(2);
<a name="l00193"></a>00193   }
<a name="l00194"></a>00194 
<a name="l00198"></a><a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">00198</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">FAIL</a>()
<a name="l00199"></a>00199   {
<a name="l00200"></a>00200     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(3);
<a name="l00201"></a>00201   }
<a name="l00202"></a>00202 
<a name="l00206"></a><a class="code" href="class_event_type.html#a2720c9402d9d28ef12cda0a7258c0098">00206</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#a2720c9402d9d28ef12cda0a7258c0098">FAIL_MSG</a>()
<a name="l00207"></a>00207   {
<a name="l00208"></a>00208     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(4);
<a name="l00209"></a>00209   }
<a name="l00210"></a>00210   
<a name="l00215"></a><a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">00215</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">ERROR</a>()
<a name="l00216"></a>00216   {
<a name="l00217"></a>00217     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(5);
<a name="l00218"></a>00218   }
<a name="l00223"></a><a class="code" href="class_event_type.html#ade8202ce36e093d72593f46e85978327">00223</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#ade8202ce36e093d72593f46e85978327">USER_MSG</a>()
<a name="l00224"></a>00224   { 
<a name="l00225"></a>00225     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(6); 
<a name="l00226"></a>00226   }
<a name="l00227"></a>00227 
<a name="l00232"></a><a class="code" href="class_event_type.html#aa6cf4ca892311c6c3d45454aa8457fce">00232</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#aa6cf4ca892311c6c3d45454aa8457fce">SYS_MSG</a>() 
<a name="l00233"></a>00233   { 
<a name="l00234"></a>00234     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(7); 
<a name="l00235"></a>00235   }
<a name="l00236"></a>00236 
<a name="l00242"></a><a class="code" href="class_event_type.html#a0fbaee47a1ae9b22dab912df99264a04">00242</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#a0fbaee47a1ae9b22dab912df99264a04">EXCEPTION_THROWN</a>() 
<a name="l00243"></a>00243   {
<a name="l00244"></a>00244     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(8);
<a name="l00245"></a>00245   }
<a name="l00246"></a>00246 
<a name="l00250"></a><a class="code" href="class_event_type.html#ad1b3687cf383db6dc6232f6b18bb29a9">00250</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#ad1b3687cf383db6dc6232f6b18bb29a9">START_SETUP</a>() 
<a name="l00251"></a>00251   { 
<a name="l00252"></a>00252     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(9);
<a name="l00253"></a>00253   }
<a name="l00254"></a>00254 
<a name="l00259"></a><a class="code" href="class_event_type.html#ab8a10f138e7088409894aecab71cf447">00259</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#ab8a10f138e7088409894aecab71cf447">END_SETUP</a>()    
<a name="l00260"></a>00260   { 
<a name="l00261"></a>00261     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(10);
<a name="l00262"></a>00262   }
<a name="l00263"></a>00263 
<a name="l00267"></a><a class="code" href="class_event_type.html#ae9693f30d020dc4a9f04f218a9b6375d">00267</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#ae9693f30d020dc4a9f04f218a9b6375d">START_RUN</a>() 
<a name="l00268"></a>00268   { 
<a name="l00269"></a>00269     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(11); 
<a name="l00270"></a>00270   }
<a name="l00271"></a>00271 
<a name="l00275"></a><a class="code" href="class_event_type.html#a857aa1e7a0a72252c982d35579a2b9d3">00275</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#a857aa1e7a0a72252c982d35579a2b9d3">END_RUN</a>()      
<a name="l00276"></a>00276   {
<a name="l00277"></a>00277     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(12); 
<a name="l00278"></a>00278   }
<a name="l00279"></a>00279 
<a name="l00283"></a><a class="code" href="class_event_type.html#a65a357a5155f807d2807ec4dab9327dc">00283</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#a65a357a5155f807d2807ec4dab9327dc">START_TEAR_DOWN</a>()  
<a name="l00284"></a>00284   {
<a name="l00285"></a>00285     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(13); 
<a name="l00286"></a>00286   }
<a name="l00287"></a>00287 
<a name="l00291"></a><a class="code" href="class_event_type.html#adaa1552b79e4f4083b0fea070163a60a">00291</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_event_type.html#adaa1552b79e4f4083b0fea070163a60a">END_TEAR_DOWN</a>() 
<a name="l00292"></a>00292   {
<a name="l00293"></a>00293     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a>(14); 
<a name="l00294"></a>00294   }
<a name="l00295"></a>00295 }
<a name="l00296"></a>00296 
<a name="l00308"></a><a class="code" href="class_event.html">00308</a> <span class="keyword">class </span><a class="code" href="class_event.html" title="Stores test case result event details.">Event</a>
<a name="l00309"></a>00309 {
<a name="l00310"></a>00310   <span class="keyword">private</span> $type;       <span class="comment">// The event type.</span>
<a name="l00311"></a>00311   <span class="keyword">private</span> $time;       <span class="comment">// The time of the event.</span>
<a name="l00312"></a>00312   <span class="keyword">private</span> $reason;     <span class="comment">// The reason for the event.</span>
<a name="l00313"></a>00313   <span class="keyword">private</span> $message;    <span class="comment">// A user defined message for the event (commentary).</span>
<a name="l00314"></a>00314   <span class="keyword">private</span> $actual;     <span class="comment">// The actual value</span>
<a name="l00315"></a>00315   <span class="keyword">private</span> $comparison; <span class="comment">// What was used in the comparison</span>
<a name="l00316"></a>00316   <span class="keyword">private</span> $file;       <span class="comment">// The filename where the event occurred.</span>
<a name="l00317"></a>00317   <span class="keyword">private</span> $line;       <span class="comment">// And the line number</span>
<a name="l00318"></a>00318 
<a name="l00326"></a>00326   <span class="keyword">private</span> <span class="keyword">static</span> function CreateValue($value)
<a name="l00327"></a>00327   {
<a name="l00328"></a>00328     $type = gettype($value);
<a name="l00329"></a>00329     <span class="keywordflow">switch</span> ($type)
<a name="l00330"></a>00330     {
<a name="l00331"></a>00331       <span class="keywordflow">case</span> <span class="stringliteral">&#39;NULL&#39;</span>:
<a name="l00332"></a>00332         $str = <span class="stringliteral">&#39;NULL&#39;</span>;
<a name="l00333"></a>00333         <span class="keywordflow">break</span>;
<a name="l00334"></a>00334       <span class="keywordflow">case</span> <span class="stringliteral">&#39;string&#39;</span>:
<a name="l00335"></a>00335       <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer&#39;</span>:
<a name="l00336"></a>00336       <span class="keywordflow">case</span> <span class="stringliteral">&#39;double&#39;</span>:
<a name="l00337"></a>00337         $str = (string)$value;
<a name="l00338"></a>00338         <span class="keywordflow">break</span>;
<a name="l00339"></a>00339       <span class="keywordflow">case</span> <span class="stringliteral">&#39;boolean&#39;</span>:
<a name="l00340"></a>00340         $str = ($value ? <span class="stringliteral">&#39;True&#39;</span> : <span class="stringliteral">&#39;False&#39;</span>);
<a name="l00341"></a>00341         <span class="keywordflow">break</span>;
<a name="l00342"></a>00342       <span class="keywordflow">default</span>:
<a name="l00343"></a>00343         $str = var_export($value, <span class="keyword">true</span>);
<a name="l00344"></a>00344         <span class="keywordflow">break</span>;
<a name="l00345"></a>00345     }
<a name="l00346"></a>00346     <span class="keywordflow">return</span> array(<span class="stringliteral">&#39;type&#39;</span> =&gt; $type, <span class="stringliteral">&#39;value&#39;</span> =&gt; $str);
<a name="l00347"></a>00347   }
<a name="l00348"></a>00348 
<a name="l00360"></a><a class="code" href="class_event.html#ad2d6cc17148cff39d842ff8333c0f75c">00360</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#ad2d6cc17148cff39d842ff8333c0f75c">__construct</a>(<a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a> $type,
<a name="l00361"></a>00361                               $reason,
<a name="l00362"></a>00362                               $message,
<a name="l00363"></a>00363                               $actual,
<a name="l00364"></a>00364                               $comparison,
<a name="l00365"></a>00365                               $file,
<a name="l00366"></a>00366                               $line)
<a name="l00367"></a>00367   {
<a name="l00368"></a>00368     list($usec, $sec) = explode(<span class="charliteral">&#39; &#39;</span>, microtime());
<a name="l00369"></a>00369     $usec = substr($usec . <span class="stringliteral">&#39;00000&#39;</span>, 2, 3);
<a name="l00370"></a>00370     $now = <span class="keyword">new</span> DateTime(<span class="charliteral">&#39;@&#39;</span> . $sec);
<a name="l00371"></a>00371     $this-&gt;time = $now-&gt;format(<span class="stringliteral">&#39;d M y, H:i:s.&#39;</span> . $usec .  <span class="stringliteral">&#39; O&#39;</span>);
<a name="l00372"></a>00372     $this-&gt;type = $type;
<a name="l00373"></a>00373     $this-&gt;reason = $reason;
<a name="l00374"></a>00374     $this-&gt;message = $message;
<a name="l00375"></a>00375     $this-&gt;actual = Event::CreateValue($actual);
<a name="l00376"></a>00376     $this-&gt;comparison = Event::CreateValue($comparison);
<a name="l00377"></a>00377     $this-&gt;file = $file;
<a name="l00378"></a>00378     $this-&gt;line = $line;
<a name="l00379"></a>00379   }
<a name="l00380"></a>00380   
<a name="l00385"></a><a class="code" href="class_event.html#a0a4e944cf0e3e550e14551705c70e956">00385</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#a0a4e944cf0e3e550e14551705c70e956">GetType</a>()
<a name="l00386"></a>00386   {
<a name="l00387"></a>00387     <span class="keywordflow">return</span> $this-&gt;type;
<a name="l00388"></a>00388   }
<a name="l00389"></a>00389   
<a name="l00394"></a><a class="code" href="class_event.html#a3227cf1258b34167cfa33a238012bbfa">00394</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#a3227cf1258b34167cfa33a238012bbfa">GetTypeAsString</a>()
<a name="l00395"></a>00395   {
<a name="l00396"></a>00396     <span class="keywordflow">switch</span> ($this-&gt;type)
<a name="l00397"></a>00397     {
<a name="l00398"></a>00398       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">EventType::PASS</a>():
<a name="l00399"></a>00399         <span class="keywordflow">return</span> <span class="stringliteral">&#39;PASS&#39;</span>;
<a name="l00400"></a>00400       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#a9d9601d94023c3eb18dfefd1425d57d2">EventType::PASS_MSG</a>():
<a name="l00401"></a>00401         <span class="keywordflow">return</span> <span class="stringliteral">&#39;PASS_MSG&#39;</span>;
<a name="l00402"></a>00402       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>():
<a name="l00403"></a>00403         <span class="keywordflow">return</span> <span class="stringliteral">&#39;FAIL&#39;</span>;
<a name="l00404"></a>00404       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#a2720c9402d9d28ef12cda0a7258c0098">EventType::FAIL_MSG</a>():
<a name="l00405"></a>00405         <span class="keywordflow">return</span> <span class="stringliteral">&#39;FAIL_MSG&#39;</span>;
<a name="l00406"></a>00406       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>():
<a name="l00407"></a>00407         <span class="keywordflow">return</span> <span class="stringliteral">&#39;ERROR&#39;</span>;
<a name="l00408"></a>00408       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#ade8202ce36e093d72593f46e85978327">EventType::USER_MSG</a>():
<a name="l00409"></a>00409         <span class="keywordflow">return</span> <span class="stringliteral">&#39;USER_MSG&#39;</span>;
<a name="l00410"></a>00410       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#aa6cf4ca892311c6c3d45454aa8457fce">EventType::SYS_MSG</a>():
<a name="l00411"></a>00411         <span class="keywordflow">return</span> <span class="stringliteral">&#39;SYS_MSG&#39;</span>;
<a name="l00412"></a>00412       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#a0fbaee47a1ae9b22dab912df99264a04">EventType::EXCEPTION_THROWN</a>():
<a name="l00413"></a>00413         <span class="keywordflow">return</span> <span class="stringliteral">&#39;EXCEPTION_THROWN&#39;</span>;
<a name="l00414"></a>00414       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#ad1b3687cf383db6dc6232f6b18bb29a9">EventType::START_SETUP</a>():
<a name="l00415"></a>00415         <span class="keywordflow">return</span> <span class="stringliteral">&#39;START_SETUP&#39;</span>;
<a name="l00416"></a>00416       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#ab8a10f138e7088409894aecab71cf447">EventType::END_SETUP</a>():
<a name="l00417"></a>00417         <span class="keywordflow">return</span> <span class="stringliteral">&#39;END_SETUP&#39;</span>;
<a name="l00418"></a>00418       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#ae9693f30d020dc4a9f04f218a9b6375d">EventType::START_RUN</a>():
<a name="l00419"></a>00419         <span class="keywordflow">return</span> <span class="stringliteral">&#39;START_RUN&#39;</span>;
<a name="l00420"></a>00420       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#a857aa1e7a0a72252c982d35579a2b9d3">EventType::END_RUN</a>():
<a name="l00421"></a>00421         <span class="keywordflow">return</span> <span class="stringliteral">&#39;END_RUN&#39;</span>;
<a name="l00422"></a>00422       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#a65a357a5155f807d2807ec4dab9327dc">EventType::START_TEAR_DOWN</a>():
<a name="l00423"></a>00423         <span class="keywordflow">return</span> <span class="stringliteral">&#39;START_TEAR_DOWN&#39;</span>;
<a name="l00424"></a>00424       <span class="keywordflow">case</span> <a class="code" href="class_event_type.html#adaa1552b79e4f4083b0fea070163a60a">EventType::END_TEAR_DOWN</a>():
<a name="l00425"></a>00425         <span class="keywordflow">return</span> <span class="stringliteral">&#39;END_TEAR_DOWN&#39;</span>;
<a name="l00426"></a>00426     }
<a name="l00427"></a>00427     <span class="keywordflow">return</span> <span class="stringliteral">&#39;This chould never occur!&#39;</span>;
<a name="l00428"></a>00428   }
<a name="l00429"></a>00429   
<a name="l00436"></a><a class="code" href="class_event.html#a8817c0cddb25bdfa0d6d45b2b1818a7e">00436</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#a8817c0cddb25bdfa0d6d45b2b1818a7e">GetTime</a>()
<a name="l00437"></a>00437   {
<a name="l00438"></a>00438     <span class="keywordflow">return</span> $this-&gt;time;
<a name="l00439"></a>00439   }
<a name="l00440"></a>00440   
<a name="l00445"></a><a class="code" href="class_event.html#a791404e2bd08e6910ffda2222dacbef5">00445</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#a791404e2bd08e6910ffda2222dacbef5">GetReason</a>()
<a name="l00446"></a>00446   {
<a name="l00447"></a>00447     <span class="keywordflow">return</span> $this-&gt;reason;
<a name="l00448"></a>00448   }
<a name="l00449"></a>00449   
<a name="l00455"></a><a class="code" href="class_event.html#ac759e64eb2d6d3ea34a5a4d6d6ab2fe2">00455</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#ac759e64eb2d6d3ea34a5a4d6d6ab2fe2">GetMessage</a>()
<a name="l00456"></a>00456   {
<a name="l00457"></a>00457     <span class="keywordflow">return</span> $this-&gt;message;
<a name="l00458"></a>00458   }
<a name="l00459"></a>00459   
<a name="l00465"></a><a class="code" href="class_event.html#a8ca79d575d83e01068825c57cdb862e0">00465</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#a8ca79d575d83e01068825c57cdb862e0">GetActualType</a>()
<a name="l00466"></a>00466   {
<a name="l00467"></a>00467     <span class="keywordflow">return</span> $this-&gt;actual[<span class="stringliteral">&#39;type&#39;</span>];
<a name="l00468"></a>00468   }
<a name="l00469"></a>00469   
<a name="l00475"></a><a class="code" href="class_event.html#ae355f3b8568e901e82125011c4715eef">00475</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#ae355f3b8568e901e82125011c4715eef">GetActualValue</a>()
<a name="l00476"></a>00476   {
<a name="l00477"></a>00477     <span class="keywordflow">return</span> $this-&gt;actual[<span class="stringliteral">&#39;value&#39;</span>];
<a name="l00478"></a>00478   }
<a name="l00479"></a>00479   
<a name="l00485"></a><a class="code" href="class_event.html#a4157218a5cbb2fd018fcf221ac728ba0">00485</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#a4157218a5cbb2fd018fcf221ac728ba0">GetComparisonType</a>()
<a name="l00486"></a>00486   {
<a name="l00487"></a>00487     <span class="keywordflow">return</span> $this-&gt;comparison[<span class="stringliteral">&#39;type&#39;</span>];
<a name="l00488"></a>00488   }
<a name="l00489"></a>00489   
<a name="l00495"></a><a class="code" href="class_event.html#a05c6dd4b6c0dda340606e043d69c322c">00495</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#a05c6dd4b6c0dda340606e043d69c322c">GetComparisonValue</a>()
<a name="l00496"></a>00496   {
<a name="l00497"></a>00497     <span class="keywordflow">return</span> $this-&gt;comparison[<span class="stringliteral">&#39;value&#39;</span>];
<a name="l00498"></a>00498   }
<a name="l00499"></a>00499 
<a name="l00504"></a><a class="code" href="class_event.html#a236733faeb2244233bd9d3e485a43aac">00504</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#a236733faeb2244233bd9d3e485a43aac">GetFile</a>()
<a name="l00505"></a>00505   {
<a name="l00506"></a>00506     <span class="keywordflow">return</span> $this-&gt;file;
<a name="l00507"></a>00507   }
<a name="l00508"></a>00508   
<a name="l00513"></a><a class="code" href="class_event.html#aff011bc594459c82b98e641cdb9803e2">00513</a>   <span class="keyword">public</span> function <a class="code" href="class_event.html#aff011bc594459c82b98e641cdb9803e2">GetLine</a>()
<a name="l00514"></a>00514   {
<a name="l00515"></a>00515     <span class="keywordflow">return</span> $this-&gt;line;
<a name="l00516"></a>00516   }
<a name="l00517"></a>00517 }
<a name="l00518"></a>00518 
<a name="l00526"></a><a class="code" href="class_test_case_result.html">00526</a> <span class="keyword">class </span><a class="code" href="class_test_case_result.html" title="Stores events for a test case.">TestCaseResult</a>
<a name="l00527"></a>00527 {
<a name="l00534"></a><a class="code" href="class_test_case_result.html#a70d9e3fcc568d307cc3e190aee6b4774">00534</a>   <span class="keyword">protected</span> function <a class="code" href="class_test_case_result.html#a70d9e3fcc568d307cc3e190aee6b4774">__construct</a>($name, $id)
<a name="l00535"></a>00535   {
<a name="l00536"></a>00536     $this-&gt;success = <span class="keyword">true</span>;
<a name="l00537"></a>00537     $this-&gt;testEvents = array();
<a name="l00538"></a>00538     $this-&gt;name = $name;
<a name="l00539"></a>00539     $this-&gt;testCaseId = $id;
<a name="l00540"></a>00540     $this-&gt;description = <span class="stringliteral">&#39;No description.&#39;</span>;
<a name="l00541"></a>00541   }
<a name="l00542"></a>00542   
<a name="l00547"></a><a class="code" href="class_test_case_result.html#a682caeaf9d3a25116efd75d5f00fe3c3">00547</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result.html#a682caeaf9d3a25116efd75d5f00fe3c3">GetName</a>()
<a name="l00548"></a>00548   {
<a name="l00549"></a>00549     <span class="keywordflow">return</span> $this-&gt;name;
<a name="l00550"></a>00550   }
<a name="l00551"></a>00551 
<a name="l00556"></a><a class="code" href="class_test_case_result.html#ae48a9afb4008f721481c27d15c43ec27">00556</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result.html#ae48a9afb4008f721481c27d15c43ec27">GetID</a>()
<a name="l00557"></a>00557   {
<a name="l00558"></a>00558     <span class="keywordflow">return</span> $this-&gt;testCaseId;
<a name="l00559"></a>00559   }
<a name="l00560"></a>00560   
<a name="l00565"></a><a class="code" href="class_test_case_result.html#af211550415fdec77aa83970a78c4dd36">00565</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result.html#af211550415fdec77aa83970a78c4dd36">GetDescription</a>()
<a name="l00566"></a>00566   {
<a name="l00567"></a>00567     <span class="keywordflow">return</span> $this-&gt;description;
<a name="l00568"></a>00568   }
<a name="l00569"></a>00569   
<a name="l00574"></a><a class="code" href="class_test_case_result.html#a54533ea9acb2b66de3d1c9489f30d05d">00574</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result.html#a54533ea9acb2b66de3d1c9489f30d05d">GetNumberOfEvents</a>()
<a name="l00575"></a>00575   {
<a name="l00576"></a>00576     <span class="keywordflow">return</span> count($this-&gt;testEvents);
<a name="l00577"></a>00577   }
<a name="l00578"></a>00578   
<a name="l00585"></a><a class="code" href="class_test_case_result.html#aefe513ada4ebc51993ba76a1f25dcc7a">00585</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result.html#aefe513ada4ebc51993ba76a1f25dcc7a">GetEvent</a>($index)
<a name="l00586"></a>00586   {
<a name="l00587"></a>00587     <span class="keywordflow">return</span> $this-&gt;testEvents[$index];
<a name="l00588"></a>00588   }
<a name="l00589"></a>00589   
<a name="l00595"></a><a class="code" href="class_test_case_result.html#a503cfacc8d797f0ba0b45da1cd31d4f8">00595</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result.html#a503cfacc8d797f0ba0b45da1cd31d4f8">TestPassed</a>()
<a name="l00596"></a>00596   {
<a name="l00597"></a>00597     <span class="keywordflow">return</span> $this-&gt;success;
<a name="l00598"></a>00598   }
<a name="l00599"></a>00599 }
<a name="l00600"></a>00600 
<a name="l00609"></a><a class="code" href="class_test_case_result_constructor.html">00609</a> <span class="keyword">class </span><a class="code" href="class_test_case_result_constructor.html" title="Constructs test case results.">TestCaseResultConstructor</a> <span class="keyword">extends</span> <a class="code" href="class_test_case_result.html" title="Stores events for a test case.">TestCaseResult</a>
<a name="l00610"></a>00610 {
<a name="l00611"></a><a class="code" href="class_test_case_result_constructor.html#a944564ee11ad329573548875b62a269e">00611</a>   <span class="keyword">protected</span> <a class="code" href="class_test_case_result_constructor.html#a944564ee11ad329573548875b62a269e" title="True if the test passes, false otherwise.">$success</a>;       
<a name="l00612"></a><a class="code" href="class_test_case_result_constructor.html#af501817413fb985e1b171a040ce60636">00612</a>   <span class="keyword">protected</span> <a class="code" href="class_test_case_result_constructor.html#af501817413fb985e1b171a040ce60636" title="Test case ID.">$testCaseId</a>;    
<a name="l00613"></a><a class="code" href="class_test_case_result_constructor.html#ab2fc40d43824ea3e1ce5d86dee0d763b">00613</a>   <span class="keyword">protected</span> <a class="code" href="class_test_case_result_constructor.html#ab2fc40d43824ea3e1ce5d86dee0d763b" title="A name for the test case.">$name</a>;          
<a name="l00614"></a><a class="code" href="class_test_case_result_constructor.html#a87b032cba06009e3467abf1c8018d960">00614</a>   <span class="keyword">protected</span> <a class="code" href="class_test_case_result_constructor.html#a87b032cba06009e3467abf1c8018d960" title="And a description.">$description</a>;   
<a name="l00615"></a><a class="code" href="class_test_case_result_constructor.html#a6f538493c934d4f449809b7a7e987848">00615</a>   <span class="keyword">protected</span> <a class="code" href="class_test_case_result_constructor.html#a6f538493c934d4f449809b7a7e987848" title="List of events for the result of this rest case.">$testEvents</a>;    
<a name="l00616"></a>00616   
<a name="l00622"></a><a class="code" href="class_test_case_result_constructor.html#a70d9e3fcc568d307cc3e190aee6b4774">00622</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result_constructor.html#a70d9e3fcc568d307cc3e190aee6b4774">__construct</a>(<a class="code" href="class_test_case_result_constructor.html#ab2fc40d43824ea3e1ce5d86dee0d763b" title="A name for the test case.">$name</a>, $id)
<a name="l00623"></a>00623   {
<a name="l00624"></a>00624     <a class="code" href="class_test_case_result_constructor.html#a70d9e3fcc568d307cc3e190aee6b4774">parent::__construct</a>(<a class="code" href="class_test_case_result_constructor.html#ab2fc40d43824ea3e1ce5d86dee0d763b" title="A name for the test case.">$name</a>, $id);
<a name="l00625"></a>00625   }
<a name="l00626"></a>00626   
<a name="l00635"></a><a class="code" href="class_test_case_result_constructor.html#abccbe0e1a617a7aa98f7d4f4ee249623">00635</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result_constructor.html#abccbe0e1a617a7aa98f7d4f4ee249623">AddDetail</a>(<a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a> $type,
<a name="l00636"></a>00636                             $reason,
<a name="l00637"></a>00637                             $message = <span class="stringliteral">&#39;&#39;</span>,
<a name="l00638"></a>00638                             $actual = <span class="stringliteral">&#39;&#39;</span>,
<a name="l00639"></a>00639                             $comparison = <span class="stringliteral">&#39;&#39;</span>)
<a name="l00640"></a>00640   {
<a name="l00641"></a>00641     <span class="keywordflow">if</span> (<a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>() == $type ||
<a name="l00642"></a>00642         <a class="code" href="class_event_type.html#a2720c9402d9d28ef12cda0a7258c0098">EventType::FAIL_MSG</a>() == $type ||
<a name="l00643"></a>00643         <a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>() == $type)
<a name="l00644"></a>00644     {
<a name="l00645"></a>00645       $this-&gt;success = <span class="keyword">false</span>;
<a name="l00646"></a>00646     }
<a name="l00647"></a>00647     $trace = debug_backtrace();
<a name="l00648"></a>00648     $line = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00649"></a>00649     $file = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00650"></a>00650     <span class="keywordflow">foreach</span> ($trace as $item)
<a name="l00651"></a>00651     {
<a name="l00652"></a>00652       <span class="keywordflow">if</span> (<span class="stringliteral">&#39;Assert&#39;</span> == $item[<span class="stringliteral">&#39;class&#39;</span>])
<a name="l00653"></a>00653       {
<a name="l00654"></a>00654         $line = $item[<span class="stringliteral">&#39;line&#39;</span>];
<a name="l00655"></a>00655         $file = $item[<span class="stringliteral">&#39;file&#39;</span>];
<a name="l00656"></a>00656         <span class="keywordflow">break</span>;        
<a name="l00657"></a>00657       }
<a name="l00658"></a>00658     }
<a name="l00659"></a>00659     $this-&gt;testEvents[] = <span class="keyword">new</span> <a class="code" href="class_event.html" title="Stores test case result event details.">Event</a>($type,
<a name="l00660"></a>00660                                     $reason,
<a name="l00661"></a>00661                                     $message,
<a name="l00662"></a>00662                                     $actual,
<a name="l00663"></a>00663                                     $comparison,
<a name="l00664"></a>00664                                     $file,
<a name="l00665"></a>00665                                     $line);
<a name="l00666"></a>00666   }
<a name="l00667"></a>00667   
<a name="l00674"></a><a class="code" href="class_test_case_result_constructor.html#a62cb97c9d87d2778a9b9984e81322e48">00674</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result_constructor.html#a62cb97c9d87d2778a9b9984e81322e48">AddException</a>($place, Exception &amp;$exception)
<a name="l00675"></a>00675   {
<a name="l00676"></a>00676     $this-&gt;success = <span class="keyword">false</span>;
<a name="l00677"></a>00677     $this-&gt;testEvents[] = <span class="keyword">new</span> <a class="code" href="class_event.html" title="Stores test case result event details.">Event</a>(<a class="code" href="class_event_type.html#a0fbaee47a1ae9b22dab912df99264a04">EventType::EXCEPTION_THROWN</a>(),
<a name="l00678"></a>00678                                     $place,
<a name="l00679"></a>00679                                     $exception-&gt;getMessage(),
<a name="l00680"></a>00680                                     null,
<a name="l00681"></a>00681                                     null,
<a name="l00682"></a>00682                                     $exception-&gt;getFile(),
<a name="l00683"></a>00683                                     $exception-&gt;getLine());
<a name="l00684"></a>00684   
<a name="l00685"></a>00685   }
<a name="l00686"></a>00686   
<a name="l00692"></a><a class="code" href="class_test_case_result_constructor.html#adf20a1243f9329a13be45254a166928f">00692</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result_constructor.html#adf20a1243f9329a13be45254a166928f">AddTimeStamp</a>(<a class="code" href="class_event_type.html" title="Enumerated type to indicate type of event.">EventType</a> $type)
<a name="l00693"></a>00693   {
<a name="l00694"></a>00694     $this-&gt;<a class="code" href="class_test_case_result_constructor.html#abccbe0e1a617a7aa98f7d4f4ee249623">AddDetail</a>($type, <span class="stringliteral">&#39;Marker&#39;</span>);
<a name="l00695"></a>00695   }
<a name="l00696"></a>00696   
<a name="l00702"></a><a class="code" href="class_test_case_result_constructor.html#a8a1e49627ca43622b62e43cbe937584d">00702</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result_constructor.html#a8a1e49627ca43622b62e43cbe937584d">AddMessage</a>($message, $type)
<a name="l00703"></a>00703   {
<a name="l00704"></a>00704     <span class="keywordflow">if</span> (<a class="code" href="class_event_type.html#aa6cf4ca892311c6c3d45454aa8457fce">EventType::SYS_MSG</a>() == $type)
<a name="l00705"></a>00705     {
<a name="l00706"></a>00706       $this-&gt;<a class="code" href="class_test_case_result_constructor.html#abccbe0e1a617a7aa98f7d4f4ee249623">AddDetail</a>($type, $message);
<a name="l00707"></a>00707     }
<a name="l00708"></a>00708     <span class="keywordflow">else</span>
<a name="l00709"></a>00709     {
<a name="l00710"></a>00710       $this-&gt;<a class="code" href="class_test_case_result_constructor.html#abccbe0e1a617a7aa98f7d4f4ee249623">AddDetail</a>($type, <span class="stringliteral">&#39;&#39;</span>, $message);
<a name="l00711"></a>00711     }
<a name="l00712"></a>00712   }
<a name="l00713"></a>00713   
<a name="l00720"></a><a class="code" href="class_test_case_result_constructor.html#a6fefbc161b925366f1617ebeb4d96be8">00720</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_result_constructor.html#a6fefbc161b925366f1617ebeb4d96be8">SetDetails</a>(<a class="code" href="class_test_case_result_constructor.html#ab2fc40d43824ea3e1ce5d86dee0d763b" title="A name for the test case.">$name</a>, $id, <a class="code" href="class_test_case_result_constructor.html#a87b032cba06009e3467abf1c8018d960" title="And a description.">$description</a>)
<a name="l00721"></a>00721   {
<a name="l00722"></a>00722     $this-&gt;name = <a class="code" href="class_test_case_result_constructor.html#ab2fc40d43824ea3e1ce5d86dee0d763b" title="A name for the test case.">$name</a>;
<a name="l00723"></a>00723     $this-&gt;description = <a class="code" href="class_test_case_result_constructor.html#a87b032cba06009e3467abf1c8018d960" title="And a description.">$description</a>;
<a name="l00724"></a>00724     $this-&gt;testCaseId = $id;
<a name="l00725"></a>00725   }
<a name="l00726"></a>00726 }
<a name="l00727"></a>00727 
<a name="l00734"></a><a class="code" href="class_test_case_base.html">00734</a> <span class="keyword">class </span><a class="code" href="class_test_case_base.html" title="Base class for Test cases.">TestCaseBase</a>
<a name="l00735"></a>00735 {
<a name="l00736"></a><a class="code" href="class_test_case_base.html#a6d7f5b227e7becd30e1da5df23332d46">00736</a>   <span class="keyword">protected</span> <a class="code" href="class_test_case_base.html#a6d7f5b227e7becd30e1da5df23332d46" title="Where to place the results when running the test case.">$testCaseResults</a>; 
<a name="l00737"></a>00737   <span class="keyword">private</span> $name;              <span class="comment">// The name for the test case.</span>
<a name="l00738"></a>00738   <span class="keyword">private</span> $id;                <span class="comment">// The test case ID.</span>
<a name="l00739"></a>00739   <span class="keyword">private</span> $description;       <span class="comment">// A description for the test case.</span>
<a name="l00740"></a>00740   <span class="keyword">private</span> <span class="keyword">static</span> $testCaseCounter = 1; <span class="comment">// For when test case ID is not given.</span>
<a name="l00741"></a>00741 
<a name="l00747"></a><a class="code" href="class_test_case_base.html#a9472dbd50ab5497c25e9bc61a3adad4e">00747</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_base.html#a9472dbd50ab5497c25e9bc61a3adad4e">Init</a>(<a class="code" href="class_test_case_result_constructor.html" title="Constructs test case results.">TestCaseResultConstructor</a> &amp;<a class="code" href="class_test_case_base.html#a6d7f5b227e7becd30e1da5df23332d46" title="Where to place the results when running the test case.">$testCaseResults</a>)
<a name="l00748"></a>00748   {
<a name="l00749"></a>00749     $this-&gt;testCaseResults = <a class="code" href="class_test_case_base.html#a6d7f5b227e7becd30e1da5df23332d46" title="Where to place the results when running the test case.">$testCaseResults</a>;
<a name="l00750"></a>00750   }
<a name="l00751"></a>00751   
<a name="l00758"></a><a class="code" href="class_test_case_base.html#a224e96a29d80a5b52b4e94c6a0e290bd">00758</a>   <span class="keyword">protected</span> function <a class="code" href="class_test_case_base.html#a224e96a29d80a5b52b4e94c6a0e290bd">__construct</a>($name, $description, $id)
<a name="l00759"></a>00759   {
<a name="l00760"></a>00760     $this-&gt;name = (null == $name ? get_class($this) : $name);
<a name="l00761"></a>00761     $this-&gt;description = (null == $description ? <span class="stringliteral">&#39;No description.&#39;</span> : $description);
<a name="l00762"></a>00762     <span class="keywordflow">if</span> (null == $id)
<a name="l00763"></a>00763     {
<a name="l00764"></a>00764       $id = <span class="stringliteral">&#39;TEST&#39;</span> . TestCaseBase::$testCaseCounter++;
<a name="l00765"></a>00765     }
<a name="l00766"></a>00766     $this-&gt;<span class="keywordtype">id</span> = $id;
<a name="l00767"></a>00767   }
<a name="l00768"></a>00768 
<a name="l00773"></a><a class="code" href="class_test_case_base.html#a682caeaf9d3a25116efd75d5f00fe3c3">00773</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_base.html#a682caeaf9d3a25116efd75d5f00fe3c3">GetName</a>()
<a name="l00774"></a>00774   {
<a name="l00775"></a>00775     <span class="keywordflow">return</span> $this-&gt;name;
<a name="l00776"></a>00776   }
<a name="l00777"></a>00777 
<a name="l00782"></a><a class="code" href="class_test_case_base.html#ae48a9afb4008f721481c27d15c43ec27">00782</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_base.html#ae48a9afb4008f721481c27d15c43ec27">GetID</a>()
<a name="l00783"></a>00783   {
<a name="l00784"></a>00784     <span class="keywordflow">return</span> $this-&gt;id;
<a name="l00785"></a>00785   }
<a name="l00786"></a>00786   
<a name="l00791"></a><a class="code" href="class_test_case_base.html#af211550415fdec77aa83970a78c4dd36">00791</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case_base.html#af211550415fdec77aa83970a78c4dd36">GetDescription</a>()
<a name="l00792"></a>00792   {
<a name="l00793"></a>00793     <span class="keywordflow">return</span> $this-&gt;description;
<a name="l00794"></a>00794   }
<a name="l00795"></a>00795 }
<a name="l00796"></a>00796 
<a name="l00803"></a><a class="code" href="interface_equality.html">00803</a> interface <a class="code" href="interface_equality.html" title="Interface for performing equality tests on objects.">Equality</a>
<a name="l00804"></a>00804 {
<a name="l00810"></a>00810   <span class="keyword">public</span> function Equals($obj);
<a name="l00811"></a>00811 }
<a name="l00812"></a>00812 
<a name="l00817"></a><a class="code" href="class_compare_values_result.html">00817</a> <span class="keyword">class </span><a class="code" href="class_compare_values_result.html" title="Enumerate type for comparing values. See Assert::CompareValues (private function).">CompareValuesResult</a>
<a name="l00818"></a>00818 {
<a name="l00819"></a>00819   <span class="keyword">private</span> $value;
<a name="l00820"></a>00820   
<a name="l00825"></a>00825   <span class="keyword">private</span> function __construct($value)
<a name="l00826"></a>00826   {
<a name="l00827"></a>00827     $this-&gt;value = $value;
<a name="l00828"></a>00828   }
<a name="l00829"></a>00829 
<a name="l00833"></a><a class="code" href="class_compare_values_result.html#aa5f0e968454a414e12f4f2cc8d9feda1">00833</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_compare_values_result.html#aa5f0e968454a414e12f4f2cc8d9feda1">EQUAL</a>()
<a name="l00834"></a>00834   {
<a name="l00835"></a>00835     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_compare_values_result.html" title="Enumerate type for comparing values. See Assert::CompareValues (private function).">CompareValuesResult</a>(1);
<a name="l00836"></a>00836   }
<a name="l00837"></a>00837 
<a name="l00841"></a><a class="code" href="class_compare_values_result.html#a1fb2efb049d96ce5d135c6ff3b3c324a">00841</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_compare_values_result.html#a1fb2efb049d96ce5d135c6ff3b3c324a">NOT_EQUAL</a>()
<a name="l00842"></a>00842   {
<a name="l00843"></a>00843     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_compare_values_result.html" title="Enumerate type for comparing values. See Assert::CompareValues (private function).">CompareValuesResult</a>(2);
<a name="l00844"></a>00844   }
<a name="l00845"></a>00845 
<a name="l00852"></a><a class="code" href="class_compare_values_result.html#ac5278a39d8d674f382aafbf767739e66">00852</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_compare_values_result.html#ac5278a39d8d674f382aafbf767739e66">INCOMPARABLE</a>()
<a name="l00853"></a>00853   {
<a name="l00854"></a>00854     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_compare_values_result.html" title="Enumerate type for comparing values. See Assert::CompareValues (private function).">CompareValuesResult</a>(3);
<a name="l00855"></a>00855   }
<a name="l00856"></a>00856 }
<a name="l00857"></a>00857 
<a name="l00865"></a><a class="code" href="class_assert.html">00865</a> <span class="keyword">class </span><a class="code" href="class_assert.html" title="Assertions that can be made in test cases.">Assert</a> <span class="keyword">extends</span> <a class="code" href="class_test_case_base.html" title="Base class for Test cases.">TestCaseBase</a>
<a name="l00866"></a>00866 {
<a name="l00867"></a>00867   <span class="keyword">private</span> <span class="keyword">static</span> $buffers = 0;
<a name="l00868"></a>00868   
<a name="l00877"></a><a class="code" href="class_assert.html#aa2d5fe0ce20d68c480f0c07cc1429451">00877</a>   <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_assert.html#aa2d5fe0ce20d68c480f0c07cc1429451">DieOnError</a>($errNo, $errStr, $file, $line)
<a name="l00878"></a>00878   {
<a name="l00879"></a>00879     die(<span class="stringliteral">&quot;Error: [$errNo] $errStr in $file at $line&quot;</span>);
<a name="l00880"></a>00880   }
<a name="l00881"></a>00881   
<a name="l00889"></a><a class="code" href="class_assert.html#a224e96a29d80a5b52b4e94c6a0e290bd">00889</a>   <span class="keyword">protected</span> function <a class="code" href="class_assert.html#a224e96a29d80a5b52b4e94c6a0e290bd">__construct</a>($name, $description, $id)
<a name="l00890"></a>00890   {
<a name="l00891"></a>00891     <a class="code" href="class_assert.html#a224e96a29d80a5b52b4e94c6a0e290bd">parent::__construct</a>($name, $description, $id);
<a name="l00892"></a>00892     set_error_handler(<span class="stringliteral">&#39;Assert::DieOnError&#39;</span>); <span class="comment">// So warnings etc are not lost!</span>
<a name="l00893"></a>00893     ob_start();
<a name="l00894"></a>00894   }
<a name="l00895"></a>00895   
<a name="l00899"></a><a class="code" href="class_assert.html#a421831a265621325e1fdd19aace0c758">00899</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#a421831a265621325e1fdd19aace0c758">__destruct</a>()
<a name="l00900"></a>00900   {
<a name="l00901"></a>00901     ob_end_flush();
<a name="l00902"></a>00902   }
<a name="l00903"></a>00903 
<a name="l00908"></a><a class="code" href="class_assert.html#a097ff9ac0847e216ead28e4b6cecf1c1">00908</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#a097ff9ac0847e216ead28e4b6cecf1c1">AddMessage</a>($message)
<a name="l00909"></a>00909   {
<a name="l00910"></a>00910     $this-&gt;testCaseResults-&gt;AddMessage($message, <a class="code" href="class_event_type.html#ade8202ce36e093d72593f46e85978327">EventType::USER_MSG</a>());
<a name="l00911"></a>00911   }
<a name="l00912"></a>00912 
<a name="l00917"></a><a class="code" href="class_assert.html#a3e8ed71f24684ff249e4dda45d9ed9b4">00917</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#a3e8ed71f24684ff249e4dda45d9ed9b4">Fail</a>($message)
<a name="l00918"></a>00918   {
<a name="l00919"></a>00919     $this-&gt;testCaseResults-&gt;AddMessage($message, <a class="code" href="class_event_type.html#a2720c9402d9d28ef12cda0a7258c0098">EventType::FAIL_MSG</a>());
<a name="l00920"></a>00920   }
<a name="l00921"></a>00921 
<a name="l00926"></a><a class="code" href="class_assert.html#a3780bb6ba36a65682a5d1330fd447834">00926</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#a3780bb6ba36a65682a5d1330fd447834">Pass</a>($message)
<a name="l00927"></a>00927   {
<a name="l00928"></a>00928     $this-&gt;testCaseResults-&gt;AddMessage($message, <a class="code" href="class_event_type.html#a9d9601d94023c3eb18dfefd1425d57d2">EventType::PASS_MSG</a>());
<a name="l00929"></a>00929   }
<a name="l00930"></a>00930   
<a name="l00934"></a>00934   <span class="comment">//                          compare it.</span>
<a name="l00936"></a>00936 <span class="comment"></span>  <span class="keyword">private</span> <span class="keyword">static</span> function CanCompare($value)
<a name="l00937"></a>00937   {
<a name="l00938"></a>00938     $type = gettype($value);
<a name="l00939"></a>00939     <span class="keywordflow">return</span> (<span class="stringliteral">&#39;string&#39;</span> == $type || <span class="stringliteral">&#39;integer&#39;</span> == $type || <span class="stringliteral">&#39;double&#39;</span> == $type ||
<a name="l00940"></a>00940             <span class="stringliteral">&#39;NULL&#39;</span> == $type   || <span class="stringliteral">&#39;boolean&#39;</span> == $type); 
<a name="l00941"></a>00941   }
<a name="l00942"></a>00942  
<a name="l00943"></a>00943   
<a name="l00949"></a>00949   <span class="keyword">private</span> <span class="keyword">static</span> function CompareValues($actual, $toBeComparedWith)
<a name="l00950"></a>00950   {
<a name="l00951"></a>00951     $actualType = gettype($actual);
<a name="l00952"></a>00952     $toBeComparedWithType = gettype($toBeComparedWith);
<a name="l00953"></a>00953     <span class="keywordflow">if</span> ($actualType != $toBeComparedWithType)
<a name="l00954"></a>00954     {
<a name="l00955"></a>00955       <span class="keywordflow">return</span> <a class="code" href="class_compare_values_result.html#ac5278a39d8d674f382aafbf767739e66">CompareValuesResult::INCOMPARABLE</a>();
<a name="l00956"></a>00956     }
<a name="l00957"></a>00957     
<a name="l00958"></a>00958     <span class="comment">// Type are the same type</span>
<a name="l00959"></a>00959     
<a name="l00960"></a>00960     <span class="keywordflow">switch</span> ($toBeComparedWithType)
<a name="l00961"></a>00961     {
<a name="l00962"></a>00962       <span class="keywordflow">case</span> <span class="stringliteral">&#39;NULL&#39;</span>:
<a name="l00963"></a>00963       <span class="keywordflow">case</span> <span class="stringliteral">&#39;boolean&#39;</span>:
<a name="l00964"></a>00964       <span class="keywordflow">case</span> <span class="stringliteral">&#39;integer&#39;</span>:
<a name="l00965"></a>00965       <span class="keywordflow">case</span> <span class="stringliteral">&#39;double&#39;</span>:
<a name="l00966"></a>00966       <span class="keywordflow">case</span> <span class="stringliteral">&#39;string&#39;</span>:
<a name="l00967"></a>00967         <span class="keywordflow">return</span> ($actual == $toBeComparedWith ? <a class="code" href="class_compare_values_result.html#aa5f0e968454a414e12f4f2cc8d9feda1">CompareValuesResult::EQUAL</a>()
<a name="l00968"></a>00968                                              : <a class="code" href="class_compare_values_result.html#a1fb2efb049d96ce5d135c6ff3b3c324a">CompareValuesResult::NOT_EQUAL</a>());
<a name="l00969"></a>00969       <span class="keywordflow">case</span> <span class="stringliteral">&#39;resource&#39;</span>:
<a name="l00970"></a>00970         <span class="keywordflow">return</span> <a class="code" href="class_compare_values_result.html#ac5278a39d8d674f382aafbf767739e66">CompareValuesResult::INCOMPARABLE</a>();
<a name="l00971"></a>00971       <span class="keywordflow">case</span> <span class="stringliteral">&#39;array&#39;</span>:
<a name="l00972"></a>00972         <span class="keywordflow">foreach</span> ($toBeComparedWith as $k =&gt; $v)
<a name="l00973"></a>00973         {
<a name="l00974"></a>00974           <span class="keywordflow">if</span> (array_key_exists($k, $actual))
<a name="l00975"></a>00975           {
<a name="l00976"></a>00976             $result = Assert::CompareValues($actual[$k], $v);
<a name="l00977"></a>00977             <span class="keywordflow">if</span> ($result != <a class="code" href="class_compare_values_result.html#aa5f0e968454a414e12f4f2cc8d9feda1">CompareValuesResult::EQUAL</a>()) <span class="keywordflow">return</span> $result;
<a name="l00978"></a>00978           }
<a name="l00979"></a>00979           <span class="keywordflow">else</span>
<a name="l00980"></a>00980           {
<a name="l00981"></a>00981             <span class="keywordflow">return</span> <a class="code" href="class_compare_values_result.html#ac5278a39d8d674f382aafbf767739e66">CompareValuesResult::INCOMPARABLE</a>();
<a name="l00982"></a>00982           }
<a name="l00983"></a>00983         
<a name="l00984"></a>00984         }
<a name="l00985"></a>00985         <span class="keywordflow">return</span> <a class="code" href="class_compare_values_result.html#aa5f0e968454a414e12f4f2cc8d9feda1">CompareValuesResult::EQUAL</a>();
<a name="l00986"></a>00986       <span class="keywordflow">case</span> <span class="stringliteral">&#39;object&#39;</span>:
<a name="l00987"></a>00987         <span class="keywordflow">if</span> ($toBeComparedWith instanceof <a class="code" href="interface_equality.html" title="Interface for performing equality tests on objects.">Equality</a>)
<a name="l00988"></a>00988         {
<a name="l00989"></a>00989           <span class="keywordflow">return</span> ($toBeComparedWith-&gt;Equals($actual) ? <a class="code" href="class_compare_values_result.html#aa5f0e968454a414e12f4f2cc8d9feda1">CompareValuesResult::EQUAL</a>()
<a name="l00990"></a>00990                                                      : <a class="code" href="class_compare_values_result.html" title="Enumerate type for comparing values. See Assert::CompareValues (private function).">CompareValuesResult</a>::NOT_EQUAL());
<a name="l00991"></a>00991         }
<a name="l00992"></a>00992         <span class="keywordflow">else</span>
<a name="l00993"></a>00993         {
<a name="l00994"></a>00994           <span class="keywordflow">return</span> <a class="code" href="class_compare_values_result.html#ac5278a39d8d674f382aafbf767739e66">CompareValuesResult::INCOMPARABLE</a>();
<a name="l00995"></a>00995         }
<a name="l00996"></a>00996       <span class="keywordflow">default</span>:
<a name="l00997"></a>00997         <span class="keywordflow">return</span> <a class="code" href="class_compare_values_result.html#ac5278a39d8d674f382aafbf767739e66">CompareValuesResult::INCOMPARABLE</a>();
<a name="l00998"></a>00998     }
<a name="l00999"></a>00999   }
<a name="l01000"></a>01000   
<a name="l01047"></a><a class="code" href="class_assert.html#a4c9ed878e65112cdf9a4e5ce67c339b6">01047</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#a4c9ed878e65112cdf9a4e5ce67c339b6">AssertEquals</a>($actual, $expected, $message = <span class="stringliteral">&#39;&#39;</span>)
<a name="l01048"></a>01048   {
<a name="l01049"></a>01049     <span class="keywordflow">switch</span> (Assert::CompareValues($actual, $expected))
<a name="l01050"></a>01050     {
<a name="l01051"></a>01051       <span class="keywordflow">case</span> <a class="code" href="class_compare_values_result.html#aa5f0e968454a414e12f4f2cc8d9feda1">CompareValuesResult::EQUAL</a>():
<a name="l01052"></a>01052         $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">EventType::PASS</a>(),
<a name="l01053"></a>01053                                           <span class="stringliteral">&#39;AssertEquals: The values are equal.&#39;</span>,
<a name="l01054"></a>01054                                           $message,
<a name="l01055"></a>01055                                           $actual,
<a name="l01056"></a>01056                                           $expected);
<a name="l01057"></a>01057         <span class="keywordflow">break</span>;
<a name="l01058"></a>01058       <span class="keywordflow">case</span> <a class="code" href="class_compare_values_result.html#a1fb2efb049d96ce5d135c6ff3b3c324a">CompareValuesResult::NOT_EQUAL</a>():
<a name="l01059"></a>01059         $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>(),
<a name="l01060"></a>01060                                           <span class="stringliteral">&#39;AssertEquals: The values are not equal.&#39;</span>,
<a name="l01061"></a>01061                                           $message,
<a name="l01062"></a>01062                                           $actual,
<a name="l01063"></a>01063                                           $expected);
<a name="l01064"></a>01064         <span class="keywordflow">break</span>;
<a name="l01065"></a>01065       <span class="keywordflow">default</span>:
<a name="l01066"></a>01066         <span class="keywordflow">if</span> (Assert::CanCompare($actual) &amp;&amp; Assert::CanCompare($expected))
<a name="l01067"></a>01067         {
<a name="l01068"></a>01068           <span class="keywordflow">if</span> ($actual == $expected)
<a name="l01069"></a>01069           {
<a name="l01070"></a>01070             $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01071"></a>01071                                               <span class="stringliteral">&#39;AssertEquals: Values cannot be compared. After type conversion they are equal.&#39;</span>,
<a name="l01072"></a>01072                                               $message,
<a name="l01073"></a>01073                                               $actual,
<a name="l01074"></a>01074                                               $expected);
<a name="l01075"></a>01075           }
<a name="l01076"></a>01076           <span class="keywordflow">else</span>
<a name="l01077"></a>01077           {
<a name="l01078"></a>01078             $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01079"></a>01079                                               <span class="stringliteral">&#39;AssertEquals: Values cannot be compared. After type conversion they are not equal.&#39;</span>,
<a name="l01080"></a>01080                                               $message,
<a name="l01081"></a>01081                                               $actual,
<a name="l01082"></a>01082                                               $expected);
<a name="l01083"></a>01083           }
<a name="l01084"></a>01084       }
<a name="l01085"></a>01085       <span class="keywordflow">else</span>
<a name="l01086"></a>01086       {
<a name="l01087"></a>01087         $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01088"></a>01088                                           <span class="stringliteral">&#39;AssertEquals: Values cannot be compared.&#39;</span>,
<a name="l01089"></a>01089                                           $message,
<a name="l01090"></a>01090                                           $actual,
<a name="l01091"></a>01091                                           $expected);
<a name="l01092"></a>01092       }
<a name="l01093"></a>01093       <span class="keywordflow">break</span>;
<a name="l01094"></a>01094     }
<a name="l01095"></a>01095   }
<a name="l01096"></a>01096   
<a name="l01107"></a><a class="code" href="class_assert.html#ac54a3703d23fcc4fa0a3fc954adec3c4">01107</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#ac54a3703d23fcc4fa0a3fc954adec3c4">AssertNotEquals</a>($actual, $expected, $message = <span class="stringliteral">&#39;&#39;</span>)
<a name="l01108"></a>01108   {
<a name="l01109"></a>01109     <span class="keywordflow">switch</span> (Assert::CompareValues($actual, $expected))
<a name="l01110"></a>01110     {
<a name="l01111"></a>01111       <span class="keywordflow">case</span> <a class="code" href="class_compare_values_result.html#aa5f0e968454a414e12f4f2cc8d9feda1">CompareValuesResult::EQUAL</a>():
<a name="l01112"></a>01112         $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>(),
<a name="l01113"></a>01113                                           <span class="stringliteral">&#39;AssertNotEquals: The values are equal.&#39;</span>,
<a name="l01114"></a>01114                                           $message,
<a name="l01115"></a>01115                                           $actual,
<a name="l01116"></a>01116                                           $expected);
<a name="l01117"></a>01117         <span class="keywordflow">break</span>;
<a name="l01118"></a>01118       <span class="keywordflow">case</span> <a class="code" href="class_compare_values_result.html#a1fb2efb049d96ce5d135c6ff3b3c324a">CompareValuesResult::NOT_EQUAL</a>():
<a name="l01119"></a>01119         $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">EventType::PASS</a>(),
<a name="l01120"></a>01120                                           <span class="stringliteral">&#39;AssertNotEquals: The values are not equal.&#39;</span>,
<a name="l01121"></a>01121                                           $message,
<a name="l01122"></a>01122                                           $actual,
<a name="l01123"></a>01123                                           $expected);
<a name="l01124"></a>01124         <span class="keywordflow">break</span>;
<a name="l01125"></a>01125       <span class="keywordflow">default</span>:
<a name="l01126"></a>01126         <span class="keywordflow">if</span> (Assert::CanCompare($actual) &amp;&amp; Assert::CanCompare($expected))
<a name="l01127"></a>01127         {
<a name="l01128"></a>01128           <span class="keywordflow">if</span> ($actual == $expected)
<a name="l01129"></a>01129           {
<a name="l01130"></a>01130             $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01131"></a>01131                                               <span class="stringliteral">&#39;AssertNotEquals: Values cannot be compared. After type conversion they are equal.&#39;</span>,
<a name="l01132"></a>01132                                               $message,
<a name="l01133"></a>01133                                               $actual,
<a name="l01134"></a>01134                                               $expected);
<a name="l01135"></a>01135           }
<a name="l01136"></a>01136           <span class="keywordflow">else</span>
<a name="l01137"></a>01137           {
<a name="l01138"></a>01138             $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01139"></a>01139                                               <span class="stringliteral">&#39;AssertNotEquals: Values cannot be compared. After type conversion they are not equal.&#39;</span>,
<a name="l01140"></a>01140                                               $message,
<a name="l01141"></a>01141                                               $actual,
<a name="l01142"></a>01142                                               $expected);
<a name="l01143"></a>01143           }
<a name="l01144"></a>01144       }
<a name="l01145"></a>01145       <span class="keywordflow">else</span>
<a name="l01146"></a>01146       {
<a name="l01147"></a>01147         $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01148"></a>01148                                           <span class="stringliteral">&#39;AssertNotEquals: Values cannot be compared.&#39;</span>,
<a name="l01149"></a>01149                                           $message,
<a name="l01150"></a>01150                                           $actual,
<a name="l01151"></a>01151                                           $expected);
<a name="l01152"></a>01152       }
<a name="l01153"></a>01153       <span class="keywordflow">break</span>;
<a name="l01154"></a>01154     }  
<a name="l01155"></a>01155   }
<a name="l01156"></a>01156   
<a name="l01164"></a><a class="code" href="class_assert.html#a76e65f7c0370bb57e24691a3b10b486e">01164</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#a76e65f7c0370bb57e24691a3b10b486e">AssertMatches</a>($actual, $pattern, $message = <span class="stringliteral">&#39;&#39;</span>)
<a name="l01165"></a>01165   {
<a name="l01166"></a>01166     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> != gettype($actual) ||
<a name="l01167"></a>01167         <span class="stringliteral">&#39;string&#39;</span> != gettype($pattern))
<a name="l01168"></a>01168     {
<a name="l01169"></a>01169       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01170"></a>01170                                         <span class="stringliteral">&#39;AssertMatches: Both parameters need to be strings.&#39;</span>,
<a name="l01171"></a>01171                                         $message,
<a name="l01172"></a>01172                                         $actual,
<a name="l01173"></a>01173                                         $pattern);
<a name="l01174"></a>01174       <span class="keywordflow">return</span>;
<a name="l01175"></a>01175     }
<a name="l01176"></a>01176     $match = preg_match($pattern, $actual);
<a name="l01177"></a>01177     $this-&gt;testCaseResults-&gt;AddDetail($match &gt; 0 ? <a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">EventType::PASS</a>() : <a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>(),
<a name="l01178"></a>01178                                       <span class="stringliteral">&#39;AssertMatches: &#39;</span> . $match . <span class="stringliteral">&#39; matches found.&#39;</span>,
<a name="l01179"></a>01179                                       $message,
<a name="l01180"></a>01180                                       $actual,
<a name="l01181"></a>01181                                       $pattern);
<a name="l01182"></a>01182   }
<a name="l01183"></a>01183   
<a name="l01191"></a><a class="code" href="class_assert.html#ae5336662a029e6d1db3ad614c0edfd26">01191</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#ae5336662a029e6d1db3ad614c0edfd26">AssertNotMatches</a>($actual, $pattern, $message = <span class="stringliteral">&#39;&#39;</span>)
<a name="l01192"></a>01192   {
<a name="l01193"></a>01193     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> != gettype($actual) ||
<a name="l01194"></a>01194         <span class="stringliteral">&#39;string&#39;</span> != gettype($pattern))
<a name="l01195"></a>01195     {
<a name="l01196"></a>01196       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01197"></a>01197                                         <span class="stringliteral">&#39;AssertNotMatches: Both parameters need to be strings.&#39;</span>,
<a name="l01198"></a>01198                                         $message,
<a name="l01199"></a>01199                                         $actual,
<a name="l01200"></a>01200                                         $pattern);
<a name="l01201"></a>01201       <span class="keywordflow">return</span>;
<a name="l01202"></a>01202     }
<a name="l01203"></a>01203     $match = preg_match($pattern, $actual);
<a name="l01204"></a>01204     $this-&gt;testCaseResults-&gt;AddDetail($match &gt; 0 ? <a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>() : <a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">EventType::PASS</a>(),
<a name="l01205"></a>01205                                       <span class="stringliteral">&#39;AssertNotMatches: &#39;</span> . $match . <span class="stringliteral">&#39; matches found.&#39;</span>,
<a name="l01206"></a>01206                                       $message,
<a name="l01207"></a>01207                                       $actual,
<a name="l01208"></a>01208                                       $pattern);
<a name="l01209"></a>01209   }
<a name="l01210"></a>01210   
<a name="l01215"></a><a class="code" href="class_assert.html#ad271aee7344d4c2a84b83a7198ee3e41">01215</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#ad271aee7344d4c2a84b83a7198ee3e41">ReStartOutputChecking</a>()
<a name="l01216"></a>01216   {
<a name="l01217"></a>01217     ob_flush();
<a name="l01218"></a>01218   }
<a name="l01219"></a>01219   
<a name="l01227"></a><a class="code" href="class_assert.html#afb9c9d105aa5feb38c568e7bc95ad618">01227</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#afb9c9d105aa5feb38c568e7bc95ad618">AssertOutputEquals</a>($expected, $message = <span class="stringliteral">&#39;&#39;</span>)
<a name="l01228"></a>01228   {
<a name="l01229"></a>01229     $actual = ob_get_contents();
<a name="l01230"></a>01230     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> != gettype($expected))
<a name="l01231"></a>01231     {
<a name="l01232"></a>01232       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01233"></a>01233                                         <span class="stringliteral">&#39;AssertOutputEquals: Expected need to be a string.&#39;</span>,
<a name="l01234"></a>01234                                         $message,
<a name="l01235"></a>01235                                         $actual,
<a name="l01236"></a>01236                                         $expected);
<a name="l01237"></a>01237       <span class="keywordflow">return</span>;
<a name="l01238"></a>01238     }
<a name="l01239"></a>01239     <span class="keywordflow">if</span> ($actual == $expected)
<a name="l01240"></a>01240     {
<a name="l01241"></a>01241     
<a name="l01242"></a>01242       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">EventType::PASS</a>(),
<a name="l01243"></a>01243                                         <span class="stringliteral">&#39;AssertOutputEquals: Output matches.&#39;</span>,
<a name="l01244"></a>01244                                         $message,
<a name="l01245"></a>01245                                         $actual,
<a name="l01246"></a>01246                                         $expected);
<a name="l01247"></a>01247     }
<a name="l01248"></a>01248     <span class="keywordflow">else</span>
<a name="l01249"></a>01249     {
<a name="l01250"></a>01250       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>(),
<a name="l01251"></a>01251                                         <span class="stringliteral">&#39;AssertOutputEquals: Output does not match.&#39;</span>,
<a name="l01252"></a>01252                                         $message,
<a name="l01253"></a>01253                                         $actual,
<a name="l01254"></a>01254                                         $expected);
<a name="l01255"></a>01255     }
<a name="l01256"></a>01256   
<a name="l01257"></a>01257   }
<a name="l01258"></a>01258   
<a name="l01266"></a><a class="code" href="class_assert.html#a5625c14166b54f2668202bfe95e68274">01266</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#a5625c14166b54f2668202bfe95e68274">AssertOutputDiffers</a>($expected, $message = <span class="stringliteral">&#39;&#39;</span>)
<a name="l01267"></a>01267   {
<a name="l01268"></a>01268     $actual = ob_get_contents();
<a name="l01269"></a>01269     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> != gettype($expected))
<a name="l01270"></a>01270     {
<a name="l01271"></a>01271       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01272"></a>01272                                         <span class="stringliteral">&#39;AssertOutputDiffers: Expected need to be a string.&#39;</span>,
<a name="l01273"></a>01273                                         $message,
<a name="l01274"></a>01274                                         $actual,
<a name="l01275"></a>01275                                         $expected);
<a name="l01276"></a>01276       <span class="keywordflow">return</span>;
<a name="l01277"></a>01277     }
<a name="l01278"></a>01278     <span class="keywordflow">if</span> ($actual == $expected)
<a name="l01279"></a>01279     {
<a name="l01280"></a>01280     
<a name="l01281"></a>01281       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>(),
<a name="l01282"></a>01282                                         <span class="stringliteral">&#39;AssertOutputDiffers: Output matches.&#39;</span>,
<a name="l01283"></a>01283                                         $message,
<a name="l01284"></a>01284                                         $actual,
<a name="l01285"></a>01285                                         $expected);
<a name="l01286"></a>01286     }
<a name="l01287"></a>01287     <span class="keywordflow">else</span>
<a name="l01288"></a>01288     {
<a name="l01289"></a>01289       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">EventType::PASS</a>(),
<a name="l01290"></a>01290                                         <span class="stringliteral">&#39;AssertOutputDiffers: Output does not match.&#39;</span>,
<a name="l01291"></a>01291                                         $message,
<a name="l01292"></a>01292                                         $actual,
<a name="l01293"></a>01293                                         $expected);
<a name="l01294"></a>01294     }
<a name="l01295"></a>01295   }
<a name="l01296"></a>01296 
<a name="l01304"></a><a class="code" href="class_assert.html#aa4f834b4d8b80ece0f1f4fcc7b6c3b0e">01304</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#aa4f834b4d8b80ece0f1f4fcc7b6c3b0e">AssertOutputMatches</a>($pattern, $message = <span class="stringliteral">&#39;&#39;</span>)
<a name="l01305"></a>01305   {
<a name="l01306"></a>01306     $actual = ob_get_contents();
<a name="l01307"></a>01307     $actual = ob_get_contents();
<a name="l01308"></a>01308     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> != gettype($pattern))
<a name="l01309"></a>01309     {
<a name="l01310"></a>01310       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01311"></a>01311                                         <span class="stringliteral">&#39;AssertOutputMatches: Expected need to be a string.&#39;</span>,
<a name="l01312"></a>01312                                         $message,
<a name="l01313"></a>01313                                         $actual,
<a name="l01314"></a>01314                                         $pattern);
<a name="l01315"></a>01315       <span class="keywordflow">return</span>;
<a name="l01316"></a>01316     }
<a name="l01317"></a>01317     
<a name="l01318"></a>01318     $match = preg_match($pattern, $actual);
<a name="l01319"></a>01319     $this-&gt;testCaseResults-&gt;AddDetail($match &gt; 0 ? <a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">EventType::PASS</a>() : <a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>(),
<a name="l01320"></a>01320                                       <span class="stringliteral">&#39;AssertOutputMatches: &#39;</span> . $match . <span class="stringliteral">&#39; matches found.&#39;</span>,
<a name="l01321"></a>01321                                       $message,
<a name="l01322"></a>01322                                       $actual,
<a name="l01323"></a>01323                                       $pattern);
<a name="l01324"></a>01324   }
<a name="l01325"></a>01325   
<a name="l01333"></a><a class="code" href="class_assert.html#a11f6ce53c844acb414030fa6699d589c">01333</a>   <span class="keyword">public</span> function <a class="code" href="class_assert.html#a11f6ce53c844acb414030fa6699d589c">AssertOutputNotMatches</a>($pattern, $message = <span class="stringliteral">&#39;&#39;</span>)
<a name="l01334"></a>01334   {
<a name="l01335"></a>01335     $actual = ob_get_contents();
<a name="l01336"></a>01336     $actual = ob_get_contents();
<a name="l01337"></a>01337     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> != gettype($pattern))
<a name="l01338"></a>01338     {
<a name="l01339"></a>01339       $this-&gt;testCaseResults-&gt;AddDetail(<a class="code" href="class_event_type.html#a85879f8fc5f6d1f5f7868bb368da7dde">EventType::ERROR</a>(),
<a name="l01340"></a>01340                                         <span class="stringliteral">&#39;AssertOutputNotMatches: Expected need to be a string.&#39;</span>,
<a name="l01341"></a>01341                                         $message,
<a name="l01342"></a>01342                                         $actual,
<a name="l01343"></a>01343                                         $pattern);
<a name="l01344"></a>01344       <span class="keywordflow">return</span>;
<a name="l01345"></a>01345     }
<a name="l01346"></a>01346 
<a name="l01347"></a>01347     $match = preg_match($pattern, $actual);
<a name="l01348"></a>01348     $this-&gt;testCaseResults-&gt;AddDetail($match &gt; 0 ? <a class="code" href="class_event_type.html#a834a3dcc0dc9c21dd29d24aa82cdb27a">EventType::FAIL</a>() : <a class="code" href="class_event_type.html#a9d8a1b4ac61a431cc8d7381c2152195a">EventType::PASS</a>(),
<a name="l01349"></a>01349                                       <span class="stringliteral">&#39;AssertOutputNotMatches: &#39;</span> . $match . <span class="stringliteral">&#39; matches found.&#39;</span>,
<a name="l01350"></a>01350                                       $message,
<a name="l01351"></a>01351                                       $actual,
<a name="l01352"></a>01352                                       $pattern);
<a name="l01353"></a>01353   }
<a name="l01354"></a>01354 }
<a name="l01355"></a>01355 
<a name="l01365"></a><a class="code" href="class_test_case.html">01365</a> <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="class_test_case.html" title="Abstract class the unit test cases authors need to implement.">TestCase</a> <span class="keyword">extends</span> <a class="code" href="class_assert.html" title="Assertions that can be made in test cases.">Assert</a>
<a name="l01366"></a>01366 {
<a name="l01373"></a><a class="code" href="class_test_case.html#a9676f0c50b3444ebdf9e18f0103406ca">01373</a>   <span class="keyword">public</span> function <a class="code" href="class_test_case.html#a9676f0c50b3444ebdf9e18f0103406ca">__construct</a>($name = null, $description = null, $id = null)
<a name="l01374"></a>01374   {
<a name="l01375"></a>01375     <a class="code" href="class_test_case.html#a9676f0c50b3444ebdf9e18f0103406ca">parent::__construct</a>($name, $description, $id);
<a name="l01376"></a>01376   }
<a name="l01377"></a>01377 
<a name="l01382"></a>01382   <span class="keyword">public</span> <span class="keyword">abstract</span> function <a class="code" href="class_test_case.html#a0bd75cfc37a8136ad214612cac87e10a">SetUp</a>();
<a name="l01383"></a>01383   
<a name="l01389"></a>01389   <span class="keyword">public</span> <span class="keyword">abstract</span> function <a class="code" href="class_test_case.html#a13e94df3b35eb8d54c12d9f67dad4841">Run</a>();
<a name="l01390"></a>01390 
<a name="l01396"></a>01396   <span class="keyword">public</span> <span class="keyword">abstract</span> function <a class="code" href="class_test_case.html#aeee534dd9fdf3d5525a4bb5fa95cadc0">TearDown</a>();
<a name="l01397"></a>01397 }
<a name="l01398"></a>01398 
<a name="l01409"></a><a class="code" href="class_test_suite.html">01409</a> <span class="keyword">class </span><a class="code" href="class_test_suite.html" title="Collects together test cases and enables them to be run together.">TestSuite</a>
<a name="l01410"></a>01410 {
<a name="l01411"></a>01411   <span class="keyword">private</span> $testCases;    <span class="comment">// A list of test cases.</span>
<a name="l01412"></a>01412   <span class="keyword">private</span> $allPassed;    <span class="comment">// True if all passed, false otherwise.</span>
<a name="l01413"></a>01413   
<a name="l01417"></a><a class="code" href="class_test_suite.html#a095c5d389db211932136b53f25f39685">01417</a>   <span class="keyword">public</span> function <a class="code" href="class_test_suite.html#a095c5d389db211932136b53f25f39685">__construct</a>()
<a name="l01418"></a>01418   {
<a name="l01419"></a>01419     $this-&gt;anyFailed = <span class="keyword">false</span>;
<a name="l01420"></a>01420     $this-&gt;testCases = array();
<a name="l01421"></a>01421   }
<a name="l01422"></a>01422  
<a name="l01426"></a><a class="code" href="class_test_suite.html#ac50af7d4680e500a29e80c7600ebc4e8">01426</a>   <span class="keyword">public</span> function <a class="code" href="class_test_suite.html#ac50af7d4680e500a29e80c7600ebc4e8">AllPassed</a>()
<a name="l01427"></a>01427   {
<a name="l01428"></a>01428     <span class="keywordflow">return</span> $this-&gt;allPassed;
<a name="l01429"></a>01429   }
<a name="l01430"></a>01430   
<a name="l01435"></a><a class="code" href="class_test_suite.html#aa852de063988e8539212ee8e822bd421">01435</a>   <span class="keyword">public</span> function <a class="code" href="class_test_suite.html#aa852de063988e8539212ee8e822bd421">AddTest</a>($className)
<a name="l01436"></a>01436   {
<a name="l01437"></a>01437     $this-&gt;testCases[] = $className;
<a name="l01438"></a>01438   }
<a name="l01439"></a>01439   
<a name="l01446"></a><a class="code" href="class_test_suite.html#a25853350333416fe6511306461e727f5">01446</a>   <span class="keyword">public</span> function <a class="code" href="class_test_suite.html#a25853350333416fe6511306461e727f5">Run</a>(<a class="code" href="class_test_suite_result.html" title="Stores the results for all the test cases.">TestSuiteResult</a> &amp;$results)
<a name="l01447"></a>01447   {
<a name="l01448"></a>01448     $this-&gt;allPassed = <span class="keyword">true</span>;
<a name="l01449"></a>01449     
<a name="l01450"></a>01450     <span class="keywordflow">foreach</span> ($this-&gt;testCases as $className)
<a name="l01451"></a>01451     {
<a name="l01452"></a>01452       <span class="comment">// Loop through test cases</span>
<a name="l01453"></a>01453       
<a name="l01454"></a>01454       $testCase = <span class="keyword">new</span> $className();
<a name="l01455"></a>01455       $testCaseResult = <span class="keyword">new</span> <a class="code" href="class_test_case_result_constructor.html" title="Constructs test case results.">TestCaseResultConstructor</a>($className, $testCase-&gt;GetID());
<a name="l01456"></a>01456       <span class="keywordflow">if</span> (!$testCase instanceof <a class="code" href="class_test_case.html" title="Abstract class the unit test cases authors need to implement.">TestCase</a>)
<a name="l01457"></a>01457       {
<a name="l01458"></a>01458         <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&#39;The class &quot;&#39;</span> . $className . <span class="stringliteral">&#39;&quot; is not an instance of TestCase!&#39;</span>);
<a name="l01459"></a>01459       }
<a name="l01460"></a>01460       
<a name="l01461"></a>01461       <span class="comment">// Initialise the test case</span>
<a name="l01462"></a>01462       $testCase-&gt;Init($testCaseResult);
<a name="l01463"></a>01463       
<a name="l01464"></a>01464       <span class="comment">// Perform set up</span>
<a name="l01465"></a>01465       $testCaseResult-&gt;AddTimeStamp(<a class="code" href="class_event_type.html#ad1b3687cf383db6dc6232f6b18bb29a9">EventType::START_SETUP</a>());
<a name="l01466"></a>01466       <span class="keywordflow">try</span>
<a name="l01467"></a>01467       {
<a name="l01468"></a>01468         $testCase-&gt;SetUp();
<a name="l01469"></a>01469         $okToRun = $testCaseResult-&gt;TestPassed();
<a name="l01470"></a>01470       }
<a name="l01471"></a>01471       <span class="keywordflow">catch</span> (Exception $e)
<a name="l01472"></a>01472       {
<a name="l01473"></a>01473         $testCaseResult-&gt;SetDetails($testCase-&gt;GetName(),
<a name="l01474"></a>01474                                     $testCase-&gt;GetID(),
<a name="l01475"></a>01475                                     $testCase-&gt;GetDescription());
<a name="l01476"></a>01476         $testCaseResult-&gt;AddException(<span class="stringliteral">&#39;Uncaught exception thrown in \&#39;SetUp\&#39;.&#39;</span>,
<a name="l01477"></a>01477                                       $e);
<a name="l01478"></a>01478         $testCaseResult-&gt;AddTimeStamp(<a class="code" href="class_event_type.html#ab8a10f138e7088409894aecab71cf447">EventType::END_SETUP</a>());
<a name="l01479"></a>01479         $okToRun = <span class="keyword">false</span>;
<a name="l01480"></a>01480       }
<a name="l01481"></a>01481 
<a name="l01482"></a>01482       $testCaseResult-&gt;SetDetails($testCase-&gt;GetName(),
<a name="l01483"></a>01483                                   $testCase-&gt;GetID(),
<a name="l01484"></a>01484                                   $testCase-&gt;GetDescription());
<a name="l01485"></a>01485 
<a name="l01486"></a>01486       <span class="keywordflow">if</span> ($okToRun)
<a name="l01487"></a>01487       {
<a name="l01488"></a>01488         <span class="comment">// As SetUp ran successfully, run the test</span>
<a name="l01489"></a>01489         $testCaseResult-&gt;AddMessage(<span class="stringliteral">&#39;Setup completed.&#39;</span>, <a class="code" href="class_event_type.html#aa6cf4ca892311c6c3d45454aa8457fce">EventType::SYS_MSG</a>());
<a name="l01490"></a>01490         $testCaseResult-&gt;AddTimeStamp(<a class="code" href="class_event_type.html#ab8a10f138e7088409894aecab71cf447">EventType::END_SETUP</a>());
<a name="l01491"></a>01491         <span class="keywordflow">try</span>
<a name="l01492"></a>01492         {
<a name="l01493"></a>01493           $testCaseResult-&gt;AddTimeStamp(<a class="code" href="class_event_type.html#ae9693f30d020dc4a9f04f218a9b6375d">EventType::START_RUN</a>());
<a name="l01494"></a>01494           $testCase-&gt;Run();
<a name="l01495"></a>01495           $testCaseResult-&gt;AddMessage(<span class="stringliteral">&#39;Test case completed.&#39;</span>, <a class="code" href="class_event_type.html#aa6cf4ca892311c6c3d45454aa8457fce">EventType::SYS_MSG</a>());
<a name="l01496"></a>01496           $testCaseResult-&gt;AddTimeStamp(<a class="code" href="class_event_type.html#a857aa1e7a0a72252c982d35579a2b9d3">EventType::END_RUN</a>());
<a name="l01497"></a>01497         }
<a name="l01498"></a>01498         <span class="keywordflow">catch</span> (Exception $e)
<a name="l01499"></a>01499         {
<a name="l01500"></a>01500           $testCaseResult-&gt;AddException(<span class="stringliteral">&#39;Uncaught exception thrown in \&#39;Run\&#39;.&#39;</span>,
<a name="l01501"></a>01501                                         $e);
<a name="l01502"></a>01502           $testCaseResult-&gt;AddTimeStamp(<a class="code" href="class_event_type.html#a857aa1e7a0a72252c982d35579a2b9d3">EventType::END_RUN</a>());
<a name="l01503"></a>01503           <span class="comment">// Try to tear down so potentially other tests can run!</span>
<a name="l01504"></a>01504         }
<a name="l01505"></a>01505       }
<a name="l01506"></a>01506       <span class="keywordflow">else</span>
<a name="l01507"></a>01507       {
<a name="l01508"></a>01508         $testCaseResult-&gt;AddMessage(<span class="stringliteral">&#39;Setup failed - Not running test case.&#39;</span>, <a class="code" href="class_event_type.html#aa6cf4ca892311c6c3d45454aa8457fce">EventType::SYS_MSG</a>());
<a name="l01509"></a>01509       }
<a name="l01510"></a>01510 
<a name="l01511"></a>01511       <span class="comment">// Tidy up</span>
<a name="l01512"></a>01512       <span class="keywordflow">try</span>
<a name="l01513"></a>01513       {
<a name="l01514"></a>01514         $testCaseResult-&gt;AddTimeStamp(<a class="code" href="class_event_type.html#a65a357a5155f807d2807ec4dab9327dc">EventType::START_TEAR_DOWN</a>());
<a name="l01515"></a>01515         $testCase-&gt;TearDown();
<a name="l01516"></a>01516         $testCaseResult-&gt;AddMessage(<span class="stringliteral">&#39;TearDown completed.&#39;</span>, <a class="code" href="class_event_type.html#aa6cf4ca892311c6c3d45454aa8457fce">EventType::SYS_MSG</a>());
<a name="l01517"></a>01517         $testCaseResult-&gt;AddTimeStamp(<a class="code" href="class_event_type.html#adaa1552b79e4f4083b0fea070163a60a">EventType::END_TEAR_DOWN</a>());
<a name="l01518"></a>01518       }
<a name="l01519"></a>01519       <span class="keywordflow">catch</span> (Exception $e)
<a name="l01520"></a>01520       {
<a name="l01521"></a>01521         $testCaseResult-&gt;AddException(<span class="stringliteral">&#39;Uncaught exception thrown in \&#39;TearDown\&#39;.&#39;</span>,
<a name="l01522"></a>01522                                       $e);
<a name="l01523"></a>01523         $testCaseResult-&gt;AddTimeStamp(<a class="code" href="class_event_type.html#adaa1552b79e4f4083b0fea070163a60a">EventType::END_TEAR_DOWN</a>());
<a name="l01524"></a>01524       }
<a name="l01525"></a>01525       $results-&gt;<a class="code" href="class_test_suite_result.html#a4f8f8298c65b58d42c80de2a62f7bea4">AddTestCaseResult</a>($testCaseResult);
<a name="l01526"></a>01526       $this-&gt;allPassed = $this-&gt;allPassed &amp;&amp; $testCaseResult-&gt;TestPassed();
<a name="l01527"></a>01527       $testCase = null; <span class="comment">// Should call the garbage collector</span>
<a name="l01528"></a>01528     }
<a name="l01529"></a>01529   }
<a name="l01530"></a>01530 }
<a name="l01531"></a>01531 
<a name="l01539"></a><a class="code" href="class_test_suite_result.html">01539</a> <span class="keyword">class </span><a class="code" href="class_test_suite_result.html" title="Stores the results for all the test cases.">TestSuiteResult</a>
<a name="l01540"></a>01540 {
<a name="l01541"></a><a class="code" href="class_test_suite_result.html#a6d7f5b227e7becd30e1da5df23332d46">01541</a>   <span class="keyword">protected</span> <a class="code" href="class_test_suite_result.html#a6d7f5b227e7becd30e1da5df23332d46" title="List of all the test case results.">$testCaseResults</a>;  
<a name="l01542"></a>01542   
<a name="l01546"></a><a class="code" href="class_test_suite_result.html#a095c5d389db211932136b53f25f39685">01546</a>   <span class="keyword">public</span> function <a class="code" href="class_test_suite_result.html#a095c5d389db211932136b53f25f39685">__construct</a>()
<a name="l01547"></a>01547   {
<a name="l01548"></a>01548     <a class="code" href="class_test_suite_result.html#a6d7f5b227e7becd30e1da5df23332d46" title="List of all the test case results.">$testCaseResults</a> = array();
<a name="l01549"></a>01549   }
<a name="l01550"></a>01550   
<a name="l01556"></a><a class="code" href="class_test_suite_result.html#a4f8f8298c65b58d42c80de2a62f7bea4">01556</a>   <span class="keyword">public</span> function <a class="code" href="class_test_suite_result.html#a4f8f8298c65b58d42c80de2a62f7bea4">AddTestCaseResult</a>(<a class="code" href="class_test_case_result_constructor.html" title="Constructs test case results.">TestCaseResultConstructor</a> &amp;$result)
<a name="l01557"></a>01557   {
<a name="l01558"></a>01558     $this-&gt;testCaseResults[] = $result;
<a name="l01559"></a>01559   }
<a name="l01560"></a>01560 }
<a name="l01561"></a>01561 
<a name="l01574"></a><a class="code" href="class_test_runner.html">01574</a> <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="class_test_runner.html" title="Enables the tests to be executed and a report produced.">TestRunner</a> <span class="keyword">extends</span> <a class="code" href="class_test_suite_result.html" title="Stores the results for all the test cases.">TestSuiteResult</a>
<a name="l01575"></a>01575 {
<a name="l01580"></a><a class="code" href="class_test_runner.html#a51965b4ccbec9158116a6a3c4d302939">01580</a>   <span class="keyword">public</span> function <a class="code" href="class_test_runner.html#a51965b4ccbec9158116a6a3c4d302939">GetNumberOfTestCaseResults</a>()
<a name="l01581"></a>01581   {
<a name="l01582"></a>01582     <span class="keywordflow">return</span> count($this-&gt;testCaseResults);
<a name="l01583"></a>01583   }
<a name="l01584"></a>01584   
<a name="l01590"></a><a class="code" href="class_test_runner.html#a146b7d40f80d95ef105f7913ecedb445">01590</a>   <span class="keyword">public</span> function <a class="code" href="class_test_runner.html#a146b7d40f80d95ef105f7913ecedb445">GetTestCaseResult</a>($index)
<a name="l01591"></a>01591   {
<a name="l01592"></a>01592     <span class="keywordflow">return</span> $this-&gt;testCaseResults[$index];
<a name="l01593"></a>01593   }
<a name="l01594"></a>01594   
<a name="l01611"></a><a class="code" href="class_test_runner.html#adcaea2cf3aeaf831a65968a4f298f2e1">01611</a>   <span class="keyword">protected</span> function <a class="code" href="class_test_runner.html#adcaea2cf3aeaf831a65968a4f298f2e1">Run</a>(<a class="code" href="class_test_suite.html" title="Collects together test cases and enables them to be run together.">TestSuite</a> &amp;$suite,
<a name="l01612"></a>01612                          $filename,
<a name="l01613"></a>01613                          $extension)
<a name="l01614"></a>01614   {
<a name="l01615"></a>01615     $suite-&gt;<a class="code" href="class_test_suite.html#a25853350333416fe6511306461e727f5">Run</a>($this);
<a name="l01616"></a>01616     $report = $this-&gt;<a class="code" href="class_test_runner.html#a62bc0d20ce17d1ee1289cfccd4c0ce68">Report</a>();
<a name="l01617"></a>01617     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> != gettype($filename))
<a name="l01618"></a>01618     {
<a name="l01619"></a>01619       echo $report;
<a name="l01620"></a>01620     }
<a name="l01621"></a>01621     <span class="keywordflow">else</span>
<a name="l01622"></a>01622     {
<a name="l01623"></a>01623       <span class="keywordflow">if</span> (<span class="stringliteral">&#39;&#39;</span> == $filename)
<a name="l01624"></a>01624       {
<a name="l01625"></a>01625         $filename = tempnam(sys_get_temp_dir(), <span class="stringliteral">&#39;rep&#39;</span>);
<a name="l01626"></a>01626       }
<a name="l01627"></a>01627       $filename .= <span class="charliteral">&#39;.&#39;</span> . $extension;
<a name="l01628"></a>01628       $fh = fopen($filename, <span class="charliteral">&#39;w&#39;</span>);
<a name="l01629"></a>01629       <span class="keywordflow">if</span> (!$fh)
<a name="l01630"></a>01630       {
<a name="l01631"></a>01631         echo <span class="stringliteral">&#39;Unable to open file to write to: &#39;</span> . $filename . <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l01632"></a>01632         <span class="keywordflow">return</span> -2;
<a name="l01633"></a>01633       }
<a name="l01634"></a>01634       echo <span class="stringliteral">&#39;Writing results to: &#39;</span> . $filename . <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l01635"></a>01635       <span class="keywordflow">if</span> (!fwrite($fh, $report))
<a name="l01636"></a>01636       {
<a name="l01637"></a>01637         echo <span class="stringliteral">&#39;Unable to write to file: &#39;</span> . $filename . <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l01638"></a>01638         <span class="keywordflow">return</span> -3;
<a name="l01639"></a>01639       }
<a name="l01640"></a>01640       fclose($fh);      
<a name="l01641"></a>01641     }
<a name="l01642"></a>01642     <span class="keywordflow">return</span> ($suite-&gt;<a class="code" href="class_test_suite.html#ac50af7d4680e500a29e80c7600ebc4e8">AllPassed</a>() ? 0 : -1);
<a name="l01643"></a>01643   }
<a name="l01644"></a>01644   
<a name="l01649"></a>01649   <span class="keyword">public</span> <span class="keyword">abstract</span> function <a class="code" href="class_test_runner.html#a62bc0d20ce17d1ee1289cfccd4c0ce68">Report</a>();
<a name="l01650"></a>01650 }
<a name="l01651"></a>01651 ?&gt;
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<!-- Ed Heal added file -->
<hr class="footer"/>
<p style="text-align: center">
&copy; 2011, <a href="mailto:ed.heal@yahoo.co.uk">Ed Heal</a></p>
</body>
</html>
<script language="javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-22892247-1']);
_gaq.push(['_trackPageview']);

(function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
